# Node.js 개요 및 실습
## 내부 모듈(Built - In Modules)
node.js는 기능을 확장하고자 모듈이라는 개념을 사용한다.
- 애플리케이션을 이루는 기본 조각, 부품, library를 의미한다.

모듈 중에서 node.js에 기본적으로 있는 모듈을 내부 모듈이라고 한다.

내부 모듈은 http://nodejs.org/api 의 문서에서 확인이 가능하다.
- ex)
  - os, path, url, querystring, crypto, util 등
 
os 모듈을 사용하며 내부 모듈을 사용하는 방법은 아래와 같다.

```
// 모듈을 추출한다.
var os = require('os');

// 속성을 출력한다.
console.log(os);
```

os 모듈 내부에 있는 속성과 메소드는 아래와 같다.

|메소드 이름|설명|
|---|---|
|`hostname()`|운영체제의 호스트 이름을 반환한다.|
|`type()`|운영체제의 이름을 반환한다.|
|`platform()`|운영체제의 플랫폼을 반환한다.|
|`arch()`|운영체제의 아키텍쳐를 반환한다.|
|`release()`|운영체제의 버전을 반환한다.|
|`uptime()`|운영체제가 실행된 시간을 반환한다.|
|`loadavg()`|로드 에버리지 정보를 담은 배열을 반환한다.|
|`totalmem()`|시스템의 총 메모리를 반환한다.|
|`freemem()`|시스템의 사용 가능한 메모리를 반환한다.|
|`cpus()`|CPU의 정보를 담은 객체를 반환한다.|
|`getNetworkInterfaces()`|네트워크 인터페이스의 정보를 담은 배열을 반환한다.|

## 외부 모듈(Thrid - Party Modules, External Modules)
node.js가 기본적으로 갖지 않고 node 개발자인 개인 또는 단체가 만들어 배포하는 모듈을 외부 모듈이라고 한다.
- js file 형태로 구성된다.

NPM(Node Package Manager)
- 외부 모듈을 설치하고, 유지관리하기 위해 사용한다.

외부 모듈은 https://npmjs.org 에서 확인 가능하다.
- ex)
  - Express, Socket.IO, MySQL, React, WebPack, Angular
 
아래 명령어를 입력해 외부 모듈을 설치한다.

```
npm install 모듈명
```

## 서버 생성 및 실행
server.js 파일을 생성한다.

웹 서버를 만들 때는 express라는 외부 모듈을 사용한다.

```
npm install express
```

server.js 파일에 아래처럼 입력해 http 모듈과 express 모듈을 추출한다.
- http module
  - 내장 모듈, server 인스턴스가 생성하는 `createServer()` 함수를 제공한다.
 
```
var http = require('http');
var express = require('express');
```

아래처럼 입력하면 웹 서버가 생성 및 실행된다.

```
var http = require('http');
var express = require('express');

// 웹 서버를 생성한다.
var app = express();

// 웹 서버를 실행한다.
http.createServer(app).listen(52273, function() {
  console.log('Server Running at http:/127.0.0.1:52273');
});
```

코드를 저장하고 명령 프롬프트를 실행한다.

이어서 파일이 저장되어 있는 폴더에서 아래 명령어를 입력한다.

```
node server.js
```

웹 브라우저를 실행하고 http://127.0.0.1:52273에 접속해 아래와 같이 출력한다면 서버가 정상적으로 실행된 것이다.

<img width="264" alt="image" src="https://github.com/user-attachments/assets/b797afdf-bb83-4faa-b02c-0e40c5d162ea">

## 미들웨어
`app.use()` 메소드에 입력하는 콜백 함수는 request 이벤트 리스너이다.

사용자가 서버에 접속하면 자동으로 실행한다.

request 이벤트 리스너는 아래와 같은 형태이다.

```
app.use(function (request, response, next) {

});
```

```
var app = express();
app.use(function (request, response, next) {
  console.log('first');
  next();
});
app.use(function (request, response, next) {
  console.log('second');
  next();
});
app.use(function (request, response, next) {
  response.send('<h1>Hello Middleware...!</h1>');
});
```

