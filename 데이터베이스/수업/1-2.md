## 데이터베이스 시스템 목적
초기에는 데이터베이스 애플리케이션이 파일 시스템 위에 직접 구축되어 다음과 같은 결과를 초래함

- 데이터 중복성 및 불일치
  - 데이터가 여러 파일 형식으로 저장되어 서로 다른 파일에 정보가 중복됨
 
- 데이터 접근의 어려움
  - 각각의 새로운 작업을 수행하려면 새로운 프로그램을 작성해야 함
 
- 데이터 격리(isolation)
  - 다양한 파일 및 형식
 
- 무결성 문제
  - 무결성 제약 조건(ex. 계정 잔액 > 0)은 명시적으로 언급되지 않고 프로그램 코드에 "매장"됨
  - 새로운 제약 조건을 추가하거나 기존 제약 조건을 변경하기 어려움
 
- 업데이트의 원자성
  - 오류가 발생하면 부분 업데이트가 수행되어 데이터베이스가 일관되지 않은 상태가 될 수 있음
    - ex. 한 계좌에서 다른 계좌로의 자금 이체가 완료되거나 전혀 발생하지 않아야 함
   
- 여러 사용자의 동시 액세스
  - 성능을 위해 동시 액세스가 필요함
  - 제어되지 않은 동시 액세스로 인해 불일치가 발생할 수 있음
    - ex. 두 사람이 잔고를 읽고 동시에 돈을 인출하여 업데이트함
 
- 보안 문제
  - 전체가 아닌 일부 데이터에 대한 사용자 액세스를 제공하기 어려움
 
데이터베이스 시스템은 위의 모든 문제에 대한 솔루션 제공

## 데이터 모델
데이터베이스 종류에 따라서 다양한 저장 구조를 갖게 되는데 이러한 데이터베이스 구조를 명세하기 위한 개념 틀(concept framework)로 다음을 기술하기 위한 도구 모음
- 데이터
- 데이터 관계
- 데이터 의미론(semantics)
- 데이터 제약

종류
- 관계형 모델
- 엔티티 - 관계 데이터 모델(주로 데이터베이스 설계용)
- 객체 기반 데이터 모델(객체 지향 및 객체 관계형)
- 반구조화된(Semi - structured) 데이터 모델(XML)
- 기타 예전 모델
  - 네트워크 모델
  - 계층적 모델
 
## 관계형 모델
테이블 형태의 저장 구조를 가지며 데이터 사이의 연관 관계를 테이블의 키(key), 열(column)을 통해 표현하는 저장 방식
- 모든 데이터는 다양한 테이블에 저장
- row : tuple, column : attribute

장점
- 연관된 데이터 사이에 기본키와 외래키를 통해 논리적 관련성을 표현함으로써 유연하고 이해하기 쉬움

<img width="270" alt="image" src="https://github.com/user-attachments/assets/e3b24a81-9c35-4124-9209-33ddb910ccd9">


## 엔티티 - 관계 데이터 모델
데이터베이스의 전체 논리적 구조를 나타내는 엔터프라이즈 스키마를 지정하여 데이터베이스 설계를 용이하게 하기 위해 개발됨

ER 데이터 모델은 세 가지 기본 개념 사용
- 엔티티 세트
- 관계 세트
- 속성

ER 모델에는 데이터베이스의 전체 논리적 구조를 그래픽으로 표현할 수 있는 관련 다이어그램 표현인 ER 다이어그램 사용

<img width="543" alt="image" src="https://github.com/user-attachments/assets/cb304529-fd7d-494d-be2c-93ec216df815">


## 객체 지향형 데이터 모델
객체 단위의 저장 구조를 가지며 연관된 데이터 사이의 관계를 객체 식별자(OID : Object IDentifier)로 표현하는 저장 방식
- 클래스, 상속, 자료추상화 등의 객체 지향 개념과 데이터베이스 개념을 통합하여 실세계와 유사하게 모형화하는 데이터 모델
  - 구조적 측면에서는 계층형 또는 네트워크형 데이터 모델과 비슷함
  - 객체 지향 언어의 상속, 캡슐화 등의 개념을 저장 구조에 도입
 
<img width="327" alt="image" src="https://github.com/user-attachments/assets/de11758e-62e5-42c8-a261-67826e5e1902">   

관계형 데이터 모델을 기본 개념으로 하고 객체 데이터 모델의 객체 특성을 일부 반영한 절충형 모델
- 객체 지향 데이터 모델과 관계형 모델의 장점을 취해 하나의 시스템으로 통합
- 범용적인 관계형 데이터 모델을 기반으로 하고 필요한 경우, 특정한 분야를 위해 객체 개념을 추가로 지원하는 방식

<img width="321" alt="image" src="https://github.com/user-attachments/assets/1c539871-4fae-47e5-936a-48262f0c7956">

## 네트워크형 데이터 모델
네트워크형 데이터 모델(NDM : Network Data Model)
- 데이터 사이의 연관 관계를 포인터로 표현하는 저장 방식
- 계층형 모델의 단점을 보완하여 트리 구조를 네트워크 형태로 변환한 모델

장점
- 검색 속도가 빠르고 m : n 표현이 용이함
 
<img width="292" alt="image" src="https://github.com/user-attachments/assets/3e3d2ec4-5d99-426e-b095-825023bacd4d">

## 계층형 데이터 모델
데이터 사이의 연관 관계를 물리적 위치 정보인 포인터로 표현하는 저장 방식

트리 형태의 계층 구조
- 각 데이터들이 하나의 상위 부모와 여러 개의 하위 자식들을 갖는 구조

장점
- 검색 속도가 빠르기 때문에 1 : n 관계를 갖는 대용량 데이터베이스 처리 유리

<img width="221" alt="image" src="https://github.com/user-attachments/assets/caf140f6-6905-4ac7-9d75-2bfd2ea363f2">

## 인스턴스 및 스키마
프로그래밍 언어의 유형 및 변수와 유사

스키마(schema)
- 데이터베이스 안에 저장되는 데이터 구조와 제약 조건 등을 정의한 것
- 데이터베이스의 정적인 구성뿐만 아니라 동적인 유지 조건까지를 포함
- 동일한 데이터베이스라도 접근 관점에 따라 스키마는 다를 수 있음

논리 스키마 - 데이터베이스의 전체 구조 논리
- ex. 데이터베이스는 은행의 고객 및 계좌 집합과 이들 간의 관계에 대한 정보로 구성
  - 프로그램의 변수 유형 정보와 유사
 
물리적 스키마 - 데이터베이스의 전반적인 물리적 구조

인스턴스(instance) - 특정 시점의 데이터베이스의 실제 내용
- 변수의 값과 유사

## 물리적 데이터 독립성
물리적 데이터 독립성 - 논리적 스키마를 변경하지 않고 물리적 스키마를 수정하는 기능
- 애플리케이션은 논리적 스키마에 의존
- 일반적으로 다양한 수준과 구성 요소 간의 인터페이스는 일부 부분의 변경이 다른 부분에 심각한 영향을 미치지 않도록 잘 정의되어야 함

## 데이터 독립성 제공
1. 외부 / 개념 사상
- 외부 스키마를 변경하더라도 전체 개념적 스키마는 변경되지 않거나 변경되더라도 변경 내용을 최소화함으로써 다른 응용 프로그램에 주는 영향을 최소화
- 논리적 데이터 독립성(logical data independency) 제공
  - 응용 프로그램에 영향을 최소화하면서 데이터베이스의 논리적 구조를 변경
  - DBMS에 으해 수행되는 외부 / 개념 사상 즉, 하나의 개념 스키마를 여러 외부 스키마 형태로 사상시킴으로써 가능
 
2. 개념 / 내부 사상
- 물리적 구조의 변경에 따른 내부 스키마가 수정되더라도 연관된 개념 / 내부 사상 정보만 수정하면 상위 스키마에 대한 영향을 최소화
- 물리적 데이터 독립성(physical data independency) 제공
  - 개념적 스키마에 영향을 최소화화면서 데이터베이스의 물리적 구조를 변경
  - DBMS에 의해 수행되는 개념 / 내부 사상 즉, 하나의 개념 스키마와 내부 스키마 사이의 사상을 통하여 가능
 
## 데이터 언어의 분류
데이터 정의어(DDL : Data Definition Language)
- 새로운 데이터베이스 구조를 정의하고 기존 데이터베이스 구조를 변경하는 명령어 집합
- 데이터베이스 구조를 표현하는 데이터베이스 스키마를 명세하기 위해 사용
- ex. CREATE, ALTER, DROP

데이터 조작어(DML : Data Manipulation Language)
- 데이터베이스 안의 데이터를 실제 조작하는 명령어 집합
- DBMS에게 데이터의 입력, 수정, 삭제 및 검색을 요청하기 위해 사용
- ex. INSERT, UPDATE, DELETE, SELECT

데이터 저어어(DCL : Data Control Language)
- 데이터베이스를 제어하고 통제하기 위해 사용하는 명령어 집합
- 데이터베이스가 안전하게 오류 없이 동작하고 성능을 유지하도록 각종 제약이나 권한 부여, 옵션을 설정함으로서 DBMS가 데이터베이스를 올바르게 관리하도록 함
  - ex. GRANT, REVOKE, COMMIT, ROLLBACK
 
## SQL 데이터 정의 언어(DDL)
데이터베이스 스키마 정의를 위한 사양 표기법

`
create table department (dept_name  char(20), building  char(15), budget  numeric(12, 2));
`

데이터 사전(data dictionary)에 저장되는 테이블 템플릿 세트를 생성

데이터 사전에는 메타데이터(데이터에 대한 데이터) 포함
- 데이터베이스 스키마
- 무결성 제약
  - 기본 키
- 권한 부여
  - 누가 무엇에 액세스할 수 있나?
 
## 데이터 조작 언어(DML)
적절한 데이터 모델로 구성된 데이터에 액세스하고 업데이트하기 위한 언어
- 쿼리 언어라고도 알려짐

데이터 조작 언어에는 기본적으로 두 가지 유형이 있음

1.절차적 DML : 사용자가 필요한 데이터와 해당 데이터를 얻는 방법을 지정해야 함

2. 선언적 DML : 사용자가 해당 데이터를 얻는 방법을 지정하지 않고 필요한 데이터를 지정하도록 요구함

## SQL 쿼리 언어
SQL 쿼리 언어는 선언적 언어로 쿼리는 여러 테이블을 입력으로 사용하고 항상 단일 테이블을 반환함

ex. 전산과에서 모든 강사를 찾는 쿼리

`
select name from instructor where dept_name = 'Comp.Sci.'
`

## 데이터 사전
DBMS는 스키마와 스키마 사상 정보를 데이터 사전이라는 별도의 저장소에 관리

데이터 사전(data dictionary)
- 다양한 데이터베이스 객체(테이블과 열, 뷰, 인덱스, 사용자 권한 등)에 관한 모든 데이터를 포함
- DBMS가 스스로 생성하고 유지
- 사용자뿐만 아니라 시스템 관리를 위해서도 필요한 저장 공간으로 그 자체가 하나의 데이터베이
<img width="559" alt="image" src="https://github.com/user-attachments/assets/9036594e-26a1-4249-8c43-eeaaa72ef6a8">

사용자 데이터베이스(user database)
- 사용자나 응용 프로그램이 실제로 이용하는 데이터를 저장하는 일반 데이터베이스

시스템 데이터베이스(system database) 또는 시스템 카탈로그(system catalog)
- 데이터 디렉토리(data directory)
  - 사용자가 접근할 수 없음
  - 데이터 접근에 필요한 위치 정보를 저장하는 저장소
- 데이터 사전(data dictionary)
  - 데이터베이스에 저장된 모든 부가 정보 즉, 데이터베이스 정의나 명세뿐만 아니라 스키마와 이들 간의 사상 정보, 제약 조건 등을 저장하는 저장소
 
메타 데이터
- 데이터 사전에 저장된 데이터는 '데이터에 관한 데이터(data about data)'
  - 데이터베이스 자체에 관한 데이터
  - 한 차원 높은 데이터라는 의미에서 메타 데이터(meta data)라고 함
  - DBMS뿐만 아니라 일반 사용자도 검색할 수 있지만 변경은 DBMS만 가능
  - 

## Transaction 관리
트랜잭션은 데이터베이스 애플리케이션에서 단일 논리 기능을 수행하는 작업의 모음

트랜잭션 관리 구성 요소(컴포넌트)는 시스템 오류(ex. 정전 및 운영 체제 충돌) 및 트랜잭션 오류에도 불구하고 데이터베이스가 일관된(올바른) 상태를 유지하도록 보장

동시성 제어 매니저는 동시 트랜잭션 간의 상호 작용을 제어하여 데이터베이스의 일관성을 보장

## 데이터베이스 애플리케이션
데이터베이스 애플리케이션은 일반적으로 2 ~ 3개 부분으로 분할되어 구성

2계층 아키텍처
- 애플리케이션은 클라이언트 시스템에 상주하며 서버 시스템에서 데이터베이스 시스템 기능을 직접 호출

3계층 아키텍처
- 클라이언트 시스템은 프런트 엔드 역할을 하며 직접적인 데이터베이스 호출을 포함하지 않음
  - 클라이언트 측에서는 일반적으로 양식 인터페이스를 통해 애플리케이션 서버와 통신
  - 크러면 애플리케이션 서버는 데이터베이스 시스템과 통신하여 데이터 액세

<img width="588" alt="image" src="https://github.com/user-attachments/assets/a271458d-3e13-4fb2-aa0c-16300a098c02">
